{"version":3,"sources":["assets\\GameBundles\\Solitaire\\Script\\Themes\\SolitaireThemesUIPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { SolitaireSkin } from \"../DataCache/SolitaireSkinDataCache\";\nimport { SolitaireLogic } from \"../Logic/SolitaireLogic\";\nimport { SolitairePrefabCfg } from \"../SolitairePrefabCfg\";\nimport SolitaireThemesContentsUI, { SolitaireThemesContentsUIArgs } from \"./SolitaireThemesContentsUI\";\nimport SolitaireThemesSelfSkinUI, { SolitaireThemesSelfSkinUIArgs } from \"./SolitaireThemesSelfSkinUI\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class SolitaireThemesUIPanel extends ii.UIPanel<any> {\n    @property({type:cc.Node,visible:true}) private _ctnSelfList: cc.Node = null;\n    @property({type:cc.Node,visible:true}) private _ctnContents: cc.Node = null;\n\n    private m_SelfSkinUI: SolitaireThemesSelfSkinUI = null;\n    private m_ContentsUI: SolitaireThemesContentsUI = null;\n\n    private __CloseContentsUI() {\n        if(this.m_ContentsUI !== null) {\n            this.m_ContentsUI.Close();\n            this.m_ContentsUI = null;\n        }\n    }\n\n    protected OnCreate(): void { }\n    protected OnRelease(): void {\n        this.__CloseContentsUI();\n    }\n    protected OnOpen(uiArgs: any): void {\n        this.SetIIClickHandler(\"OnBack\", this.OnBack.bind(this));\n        this.m_SelfSkinUI = ii.UIMgr.ins.Create<SolitaireThemesSelfSkinUI, SolitaireThemesSelfSkinUIArgs>(SolitairePrefabCfg.pfb.comp.SolitaireThemesSelfSkinUI.key, {\n            OnClickEdit:(index: number)=>this.OnClickEdit(index),\n        }, this._ctnSelfList).CloseBy(this);\n    }\n\n    @ii.Util.block(1)\n    private OnBack() {\n        this.Close();\n    }\n\n    private OnClickEdit(index: number) {\n        this.m_ContentsUI = ii.UIMgr.ins.Create<SolitaireThemesContentsUI, SolitaireThemesContentsUIArgs>(SolitairePrefabCfg.pfb.comp.SolitaireThemesContentsUI.key, {\n            index: index,\n            skin: SolitaireLogic.skin.CloneSkin(SolitaireLogic.skin.GetSkin(index)),\n            OnSave:(index: number, skin: SolitaireSkin)=>this.OnSave(index, skin),\n            OnBack:()=>this.OnContentBack()\n        }, this._ctnContents);\n    }\n\n    private OnSave(index: number, skin: SolitaireSkin) {\n        SolitaireLogic.skin.SaveSkin(index, skin);\n        this.m_SelfSkinUI.RefreshUI(index, skin);\n    }\n\n    // 从 ContentsUI 界面点击返回按钮\n    private OnContentBack() {\n        this.__CloseContentsUI();\n    }\n}\n"]}