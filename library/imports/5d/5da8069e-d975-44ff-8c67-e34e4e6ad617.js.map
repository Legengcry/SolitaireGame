{"version":3,"sources":["assets\\GameBundles\\Solitaire\\Script\\Game\\View\\UINewGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { EGameType } from \"../../SolitaireEnums\";\nimport { SolitaireJu } from \"../Model/SolitaireJu\";\nimport SolitaireGameUIPanel from \"./SolitaireGameUIPanel\";\n\nconst {ccclass, property} = cc._decorator;\n\nexport type UINewGameArgs = {\n    ju: SolitaireJu\n}\n\n@ccclass\nexport default class UINewGame extends ii.UIPanel<UINewGameArgs> {\n    @property(cc.Node) private mui_ActionNode: cc.Node = null;\n    @property({type:cc.Label,visible:true}) private _gameTypeLabel: cc.Label = null;\n    @property({type:cc.Sprite,visible:true}) private _gameTypeSprite: cc.Sprite = null;\n    @property({type:cc.Label,visible:true}) private _skipGameLabel: cc.Label = null;\n    @property({type:[cc.Label],visible:true}) private _seedLabels: cc.Label[] = [];\n    @property({type:[cc.SpriteFrame],visible:true}) private _spriteFrames: cc.SpriteFrame[] = [];\n\n    protected OnCreate(): void {\n        this.SetUserData(\"ACTION_POSITION\", this.mui_ActionNode.position);\n    }\n    protected OnRelease(): void { }\n    protected OnOpen(uiArgs: UINewGameArgs): void {\n        this.SetIIClickHandler(\"OnBG\", this.OnBG.bind(this));\n        this.SetIIClickHandler(\"OnSkipGame\", this.OnSkipGame.bind(this));\n        this.SetIIClickHandler(\"OnReplayDeck\", this.OnReplayDeck.bind(this));\n        this.SetIIClickHandler(\"OnCancel\", this.OnCancel.bind(this));\n        ii.UIUtil.moveAction(this.mui_ActionNode, true, this.GetUserData(\"ACTION_POSITION\"), 0.3);\n\n        switch (this.args.ju.gameType) {\n            case EGameType.EASY: {\n                this._gameTypeLabel.string = `简单`;\n                this._skipGameLabel.string = `跳过当前级别`;\n            } break;\n            case EGameType.HARD: {\n                this._gameTypeLabel.string = `困难`;\n                this._skipGameLabel.string = `跳过当前级别`;\n            } break;\n            case EGameType.SEED: {\n                this._gameTypeLabel.string = `Seed`;\n                this._skipGameLabel.string = `Play Next Seed`;\n            } break;\n        }\n        this._gameTypeSprite.spriteFrame = this._spriteFrames[this.args.ju.gameType];\n        \n        this._seedLabels.forEach(label=>label.string = `${this.args.ju.Seed}`);\n    }\n    \n    private ExitWithAction(callback?: Function) {\n        ii.UIUtil.moveAction(this.mui_ActionNode, false, this.GetUserData(\"ACTION_POSITION\"), 0.3, ()=>{\n            if(callback){\n                callback()\n            }\n            this.Close();\n        })\n    }\n\n    @ii.Util.block(1)\n    private OnBG() {\n        this.ExitWithAction()\n    }\n\n    @ii.Util.block(1)\n    private OnSkipGame(){\n        this.ExitWithAction(()=>this.emitGlobal(SolitaireGameUIPanel.event.EVENT_GAMESCENE_SKIP_GAME))\n    }\n\n    @ii.Util.block(1)\n    private OnReplayDeck() {\n        this.ExitWithAction(()=>this.emitGlobal(SolitaireGameUIPanel.event.EVENT_GAMESCENE_REPLAY_GAME))\n    }\n\n    @ii.Util.block(1)\n    private OnCancel() {\n        this.ExitWithAction()\n    }\n}\n"]}