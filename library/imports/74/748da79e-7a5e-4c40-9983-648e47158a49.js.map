{"version":3,"sources":["assets\\GameBundles\\Solitaire\\Script\\Game\\View\\SolitaireGameDesktopUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { SolitaireDataCache } from \"../../DataCache/SolitaireDataCache\";\nimport { SolitaireLogic } from \"../../Logic/SolitaireLogic\";\nimport { SolitaireAudioCfg } from \"../../SolitaireAudioCfg\";\nimport { SolitaireCfg } from \"../../SolitaireCfg\";\nimport { ELocation, EPokerStatus } from \"../../SolitaireEnums\";\nimport { SolitaireEvent } from \"../../SolitaireEvent\";\nimport { SolitairePrefabCfg } from \"../../SolitairePrefabCfg\";\nimport { SolitaireSpriteFrameCfg } from \"../../SolitaireSpriteFrameCfg\";\nimport Poker from \"../Model/Poker\";\nimport { ISolitaireJuEventListener, SolitaireJu } from \"../Model/SolitaireJu\";\nimport SolitaireGameBottomMenuUI, { SolitaireGameBottomMenuUIArgs } from \"./SolitaireGameBottomMenuUI\";\nimport { UIGameLoseArgs } from \"./UIGameLose\";\nimport { UIGameWinArgs } from \"./UIGameWin\";\nimport UIHintMgr, { UIHintMgrArgs } from \"./UIHintMgr\";\nimport UIPoker from \"./UIPoker\";\n\nconst ZIndex = {\n    NORMAL: 0,\n    TOP: 999,\n}\n\nconst {ccclass, property} = cc._decorator;\n@ccclass\nexport default class SolitaireGameDesktopUI extends ii.UIComp<any> implements ISolitaireJuEventListener{\n    //#region //! UI\n    @property({type:cc.Sprite,visible:true}) private bgSprite: cc.Sprite = null\n    @property({type:cc.Sprite,visible:true}) private bgPatternSprite: cc.Sprite = null \n    @property({type:cc.Node,visible:true}) private _bottomMenuContainer: cc.Node = null /** 底部菜单栏容器节点 */\n    @property({type:cc.Node,visible:true}) private actionNode: cc.Node = null // 辅助动画的节点，扑克的移动在此节点中进行\n    @property({type:cc.Node,visible:true}) private mui_Container_Hint: cc.Node = null /** 提醒功能所在的节点 */\n    @property({type:cc.Node,visible:true}) private pokerRoot: cc.Node = null // pokerRoot 节点在屏幕上方中点处 \n    @property({type:cc.Node,visible:true}) private closeAreaButton: cc.Node = null\n    @property({type:cc.Node,visible:true}) private closeArea: cc.Node = null\n    @property({type:cc.Node,visible:true}) private closeAreaBackground: cc.Node = null \n    @property({type:cc.Node,visible:true}) private openArea: cc.Node = null\n    @property({type:cc.Node,visible:true}) private rotateNode: cc.Node = null\n    @property({type:[cc.Node],visible:true}) private receiveAreaList: cc.Node[] = []\n    @property({type:[cc.Node],visible:true}) private playAreaList: cc.Node[] = []\n    @property({type:cc.Sprite,visible:true}) private mui_closeAreaBottomSprite: cc.Sprite = null\n    @property({type:[cc.SpriteFrame],visible:true}) private md_closeAreaSpriteFrameList: cc.SpriteFrame[] = []\n    get CloseAreaBackground(): cc.Node { return this.closeAreaBackground; }\n    get ReceiveAreaList(): cc.Node[] { return this.receiveAreaList; }\n    get PlayAreaList(): cc.Node[] { return this.playAreaList; }\n    get OpenArea(): cc.Node { return this.openArea; }\n    get CloseArea(): cc.Node { return this.closeArea; }\n    //#endregion\n\n    //#region //! Data\n    static readonly EVENT_GAMEVIEW_POKERS_READY: string = 'EVENT_GAMEVIEW_POKERS_READY'\n    private readonly POKER_WIDTH: number = 82;\n    private readonly POKER_HEIGHT: number = 126;\n    private readonly TIME_MOVE: number = 0.2;\n    private readonly TIME_FLIP_HALF: number = 0.2;\n    private m_UIPokerList: UIPoker[] = []\n    private m_UIHintMgr: UIHintMgr = null\n    //#endregion\n    \n    //#region //! 界面几个区域之间的布局\n    static readonly PLAY_CLOSE_POKER_PADDING_Y: number = 20;\n    static readonly PLAY_OPEN_POKER_PADDING_Y: number = 40;\n    private readonly OFFSET_TOP: number = 200; // 收牌区距离顶部的距离\n    public readonly PADDING_PLAY: number = 90;\n    private __x(index: number): number{ return -270+index*this.PADDING_PLAY }\n    private __y(line: number = 0, pokerIndex: number = 0): number { let y = -this.OFFSET_TOP-line*140-SolitaireGameDesktopUI.PLAY_CLOSE_POKER_PADDING_Y*pokerIndex; return y; }\n    //#endregion\n    \n    private m_DataCache: SolitaireDataCache = null;\n    private m_BottomMenuUI: SolitaireGameBottomMenuUI = null;\n    private m_Ju: SolitaireJu = null;\n    //#region //! 生命周期 UIComp\n    protected OnCreate(): void {\n        // 各个区域位置调整\n        for(let i = 0; i<7; ++i){\n            const node = this.playAreaList[i]\n            node.active = true\n            node.position = cc.v3(this.__x(i), this.__y(1), 0)\n        }\n\n        this.closeAreaButton.zIndex = -1\n        this.actionNode.zIndex = ZIndex.TOP+1\n        this.mui_Container_Hint.zIndex = ZIndex.TOP+2\n        this.setPlaceHolderVisiable(false)\n\n        this.m_DataCache = this.GetDataCache(SolitaireCfg.SOLITAIRE_DATACACHE);\n        this.m_BottomMenuUI = ii.UIMgr.ins.Create<SolitaireGameBottomMenuUI, SolitaireGameBottomMenuUIArgs>(SolitairePrefabCfg.pfb.comp.SolitaireGameBottomMenuUI.key, { }, this._bottomMenuContainer).CloseBy(this);\n    }\n    protected OnRelease(): void { }\n    protected OnOpen(uiArgs: any): void {\n        this.SetIIClickHandler(\"OnCloseArea\", ()=>this.OnClickCloseBottom());\n    }\n    \n    @ii.Util.block(0.5)\n    OnClickCloseBottom() {\n        this.m_Ju.OnClickCloseBottom()\n    }\n    //#endregion\n\n    Enter(ju: SolitaireJu) {\n        this.m_Ju = ju;\n        this.setPlaceHolderVisiable(true);\n        this.BindBV(this.m_DataCache.leftHandBV, this.LayoutWithHand.bind(this), true);\n        this.BindBV(SolitaireLogic.skin.skinBV, skin => {\n            this.m_UIPokerList.forEach(uiPoker => uiPoker.setSkin(skin));\n            this.LoadRes<cc.SpriteFrame>(SolitaireSpriteFrameCfg.bgSkinUrl(skin.bgSkin), sp=>this.bgSprite.spriteFrame = this.SetAssetProperty(\"BG_SKIN\", sp), false, this.UUID_GROUP_KEY(\"BG_SKIN\"))\n            this.bgPatternSprite.node.active = skin.bgPatternSkin !== -1\n            if(skin.bgPatternSkin >= 0) {\n                this.LoadRes<cc.SpriteFrame>(SolitaireSpriteFrameCfg.bgPatternSkinUrl(skin.bgPatternSkin), sp=>this.bgPatternSprite.spriteFrame = this.SetAssetProperty(\"BG_PATTERN_SKIN\", sp), false, this.UUID_GROUP_KEY(\"BG_PATTERN_SKIN\"))\n            }\n        }, true);\n\n        ju.AddEventListener(this);\n\n        // 提示功能\n        this.m_UIHintMgr = ii.UIMgr.ins.Create<UIHintMgr, UIHintMgrArgs>(SolitairePrefabCfg.pfb.comp.UIHintMgr.key, {\n            ju: this.m_Ju,\n            desktop: this\n        }, this.mui_Container_Hint);\n\n        this.m_BottomMenuUI.Enter(this.m_Ju)\n    }\n\n    Exit(ju: SolitaireJu) {\n        this.m_BottomMenuUI.Exit(this.m_Ju)\n        this.m_UIHintMgr.Close();\n        for(let index = this.m_UIPokerList.length-1; index >=0; --index){\n            this.m_UIPokerList[index].Close()\n            this.m_UIPokerList.length = this.m_UIPokerList.length-1\n        }\n        this.setPlaceHolderVisiable(false)\n\n        this._bIsUISubscrib = false;\n        ju.RemoveEventListener(this);\n        this.UnbindAllBV();\n    }\n\n    //#region //! UI 的显示隐藏 左右手\n    private setPlaceHolderVisiable(visiable: boolean) {\n        for(let i = 0; i<7; ++i){\n            this.playAreaList[i].active = visiable\n        }\n        for(let i = 0; i<4; ++i){\n            this.receiveAreaList[i].active = visiable\n        }\n        this.closeAreaButton.active = visiable\n    }\n    private LayoutWithHand(isLeftHand: boolean){\n        if(isLeftHand){\n            for(let i = 0; i<4; ++i){\n                const node = this.receiveAreaList[i]\n                node.position = cc.v3(this.__x(3+i), this.__y(0), 0)\n            }\n            this.openArea.position = cc.v3(this.__x(1), this.__y(0), 0)\n            this.closeArea.position = cc.v3(this.__x(0), this.__y(0), 0)\n            this.closeAreaButton.position = cc.v3(this.__x(0), this.__y(), 0)\n        }else{\n            for(let i = 0; i<4; ++i){\n                const node = this.receiveAreaList[i]\n                node.position = cc.v3(this.__x(i), this.__y(0), 0)\n            }\n            this.openArea.position = cc.v3(this.__x(4), this.__y(0), 0)\n            this.closeArea.position = cc.v3(this.__x(6), this.__y(0), 0)\n            this.closeAreaButton.position = cc.v3(this.__x(6), this.__y(), 0)\n        }\n    }\n    //#endregion\n\n    //#region //! Event\n    private _bIsUISubscrib: boolean = false;\n    get SolitaireJuEventTarget(): any { return this.node; }\n    OnSolitaireDesktopEvent(ju: SolitaireJu, eventTyp: SolitaireEvent, data?: any): void {\n        switch (eventTyp) {\n            case SolitaireEvent.SC_INIT: this.HandleModelEventInit(data); break;\n            case SolitaireEvent.SC_UI_SUBSCRIB:\n                this._bIsUISubscrib = true;\n                this.BindBV(ju.foundationCounts, count => count >= 0 && ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.GetFoundation(count)), false);\n                this.BindBV(ju.flipCloseCardsCountBV, () => {\n                    let spIndex: number = ju.IsCanReflip() ? 0 : 1\n                    this.mui_closeAreaBottomSprite.spriteFrame = this.md_closeAreaSpriteFrameList[spIndex]\n                }, true)\n                break;\n        }\n\n        if(!this._bIsUISubscrib) {\n            return;\n        }\n        // 开启了 UI 订阅以后，才响应这些类型的处理\n        switch (eventTyp) {\n            case SolitaireEvent.SC_INIT: break;\n            case SolitaireEvent.SC_UI_SUBSCRIB: break;\n            case SolitaireEvent.SC_TIME_CHANGED: break;\n            case SolitaireEvent.SC_PLAY: this.HandleModelEventPlay(data); break;\n            case SolitaireEvent.SC_SEND_POKERS: this.HandleModelEventSendPokers(data);break;\n            case SolitaireEvent.SC_FLIP_POKER: this.HandleFlipPoker(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FROM_CLOSE_TO_OPEN: this.HandleMovePokerFromCloseToOpen(data);break;\n            case SolitaireEvent.SC_MOVE_POKERS_FROM_CLOSE_TO_OPEN: this.HandleMovePokersFromCloseToOpen(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FROM_PLAY_TO_RECEIVE: this.HandleMovePokerFormPlayToReceive(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FROM_OPEN_TO_RECEIVE: this.HandleMoveFromOpenToReceive(data);break;\n            case SolitaireEvent.SC_DRAG_POKER_FROM_PLAY_TO_RECEIVE: this.HandleMovePokerFormPlayToReceive(data);break;\n            case SolitaireEvent.SC_DRAG_POKER_FROM_OPEN_TO_RECEIVE: this.HandleMoveFromOpenToReceive(data);break;\n            case SolitaireEvent.SC_DRAG_POKER_FROM_RECEIVE_TO_RECEIVE: this.HandleMovePokerToTarget(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FROM_OPEN_TO_PLAY: this.HandleMovePokerFromOpenToPlay(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FROM_PLAY_TO_PLAY: this.HandleMovePokerToTarget(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FROM_RECEIVE_TO_PLAY: this.HandleMovePokerToTarget(data);break;\n            case SolitaireEvent.SC_DRAG_POKER_FROM_PLAY_TO_PLAY: this.HandleMovePokerToTarget(data);break;\n            case SolitaireEvent.SC_DRAG_POKER_FROM_RECEIVE_TO_PLAY: this.HandleMovePokerToTarget(data);break;\n            case SolitaireEvent.SC_DRAG_POKER_FROM_OPEN_TO_PLAY: this.HandleMovePokerFromOpenToPlay(data);break;\n            case SolitaireEvent.SC_MOVE_POKERS_FROM_PLAY_TO_PLAY: this.HandleMovePokersToTarget(data);break;\n            case SolitaireEvent.SC_DRAG_POKERS_FROM_PLAY_TO_PLAY: this.HandleMovePokersToTarget(data);break;\n            case SolitaireEvent.SC_MOVE_ALL_POKERS_FROM_OPEN_TO_CLOSE: this.HandleMoveAllPokersFromOpenToClose(data);break;\n            case SolitaireEvent.SC_DRAG_POKER_NO_CHANGE: this.HandleMovePokerNoChange(data);break;\n            case SolitaireEvent.SC_CLICK_POKER_NO_CHANGE: this.HandleClickPokerNoChange(data);break;\n            case SolitaireEvent.SC_MOVE_POKERS_FOR_UNDO_FROM_PLAY_TO_PLAY: this.HandleUndoMovePokersToTarget(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_PLAY: this.HandleUndoMovePokerToTarget(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_OPEN: this.HandleUndoMovePokerToOpen(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_OPEN: this.HandleUndoMovePokerToOpen(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_RECEIVE: this.HandleUndoMovePokerToTarget(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_PLAY: this.HandleUndoMovePokerToTarget(data);break;\n            case SolitaireEvent.SC_MOVE_ALL_POKERS_FOR_UNDO_FROM_CLOSE_TO_OPEN: this.HandleMoveAllPokersForUndoFromCloseToOpen(data);break;\n            case SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_OPEN_TO_CLOSE: this.HandleMovePokerForUndoFromOpenToClose(data);break;\n            case SolitaireEvent.SC_MOVE_POKERS_FOR_UNDO_FROM_OPEN_TO_CLOSE: this.HandleMovePokersForUndoFromOpenToClose(data);break;\n            case SolitaireEvent.SC_REFRESH_POKERS: this.HandleRefreshPokers(data);break;\n            case SolitaireEvent.SC_WIN: this.HandleGameWin(ju); break;\n            case SolitaireEvent.SC_LOSE: this.HandleGameLose(ju); break;\n            default: break;\n        }        \n    }\n\n    private HandleModelEventInit(pokers: Poker[]) {\n        // 创建所有扑克牌UI\n        let skin = SolitaireLogic.skin.skinBV.v;\n        pokers.forEach(poker => {\n            let uiPoker = ii.UIMgr.ins.Create<UIPoker, Poker>(SolitairePrefabCfg.pfb.comp.UIPoker.key, poker).Init(skin.faceSkin, skin.backSkin, skin.frontSkin);\n            uiPoker.node.position = cc.v3(0, 0, 0)\n            this.pokerRoot.addChild(uiPoker.node)\n            this.m_UIPokerList.push(uiPoker)\n            uiPoker.SetTouchDelegate(this);\n        })\n    }\n    private HandleModelEventPlay(ju: SolitaireJu) {\n        {\n            let pokers:Poker[] = ju.CloseAreaGroup.pokers;\n            for(let i=pokers.length-1; i>=0; --i){\n                let poker = pokers[i]\n                ii.UIUtil.transferTo(poker.view.node, this.closeArea)\n                poker.view.node.zIndex = poker.indexInGroup\n                poker.view.node.position = this.positionInTarget(poker)\n            }\n        }\n        {\n\n            let pokers: Poker[] = ju.OpenAreaGroup.pokers;\n            for(let i=pokers.length-1; i>=0; --i){\n                let poker = pokers[i]\n                ii.UIUtil.transferTo(poker.view.node, this.openArea)\n                poker.view.node.zIndex = poker.indexInGroup\n                poker.view.node.position = this.positionInTarget(poker)\n            }\n        }\n\n        {\n            for(let playIndex=0; playIndex<7; ++playIndex) {\n                let group = ju.PlayGroups[playIndex];\n                let pokers: Poker[] = group.pokers;\n                for(let i=pokers.length-1; i>=0; --i){\n                    let poker = pokers[i]\n                    ii.UIUtil.transferTo(poker.view.node, this.playAreaList[playIndex])\n                    poker.view.node.zIndex = poker.indexInGroup\n                    poker.view.node.position = this.positionInTarget(poker)\n                }\n            }\n        }\n\n        {\n            for(let receiveIndex=0; receiveIndex<4; ++receiveIndex) {\n                let group = ju.ReceiveGroups[receiveIndex];\n                let pokers: Poker[] = group.pokers;\n                for(let i=pokers.length-1; i>=0; --i){\n                    let poker = pokers[i]\n                    ii.UIUtil.transferTo(poker.view.node, this.receiveAreaList[receiveIndex])\n                    poker.view.node.zIndex = poker.indexInGroup\n                    poker.view.node.position = this.positionInTarget(poker)\n                }\n            }\n        }\n    }\n    private HandleModelEventSendPokers(pokers: Poker[]){\n        // 思路：先将计算出目标在当前节点中的位置，移动到该位置后，再改变父节点       \n        pokers.forEach((poker, index) => {\n            const speedFactor = 20.0\n            const delay: number = index/speedFactor\n            const isLast: boolean = index === pokers.length-1\n            // 发牌动画\n            ii.UIUtil.transferTo(poker.view.node, this.actionNode)\n            const {position, target} = this.getTargetAndPositionInParent(poker)\n\n            const total_time: number = this.__timeOfDistance(poker.view.node.position, position)\n            let lastCallback = ()=>{\n                if(isLast){\n                    pokers.forEach(p => {\n                        if(p.status == EPokerStatus.OPEN){\n                            this.FlipPoker(p)\n                        }\n                    })\n                    this.emitGlobal(SolitaireGameDesktopUI.EVENT_GAMEVIEW_POKERS_READY)\n                }\n            }\n            cc.tween(poker.view.node)\n                .delay(delay)\n                .call(() => ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.move))\n                .to(total_time, {position: position})\n                .call(()=>{\n                    ii.UIUtil.transferTo(poker.view.node, target)\n                    poker.view.node.zIndex = poker.indexInGroup\n                    lastCallback()\n                })\n                .start()\n        })\n    }\n    private HandleFlipPoker(poker){\n        this.FlipPoker(poker)\n    }\n    private HandleMovePokerFromCloseToOpen(poker: Poker) {\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.flip)\n        this.__FlipAndMoveToTarget(poker)\n        // 如果 Open 区域 >= 4 张牌(已包含这张)，那么需要调整下方2张牌的位置\n        if(poker.group.pokers.length >= 4) {\n            for(let i=0; i<2; ++i){\n                this.__AdjustOpenPokerByIndex(-i-2)\n            }\n        }\n    }\n    private HandleMovePokersFromCloseToOpen(pokers: Poker[]) {\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.flip)\n        pokers.forEach(poker=>{\n            this.__FlipAndMoveToTarget(poker)\n        })\n        // 移动多张牌：pokers 下方的牌都移动到目标位置\n        let g = this.m_Ju.OpenAreaGroup;\n        let preCount = g.pokers.length - pokers.length\n        if(preCount > 3){\n            preCount = 3\n        }\n        for(let i = 0; i < preCount; ++i) {\n            this.__AdjustOpenPokerByIndex(-i-1-pokers.length)\n        }\n    }\n    private HandleMoveFromOpenToReceive(poker: Poker) {\n        this.MovePokerToTarget(poker)\n        // 还剩下 >=3 张牌的时候，需要调整位置\n        let g = this.m_Ju.OpenAreaGroup;\n        if(g.pokers.length >= 3){\n            // 顶部 2 张牌需要调整\n            for(let i=0; i<2; ++i){\n                this.__AdjustOpenPokerByIndex(-1-i)\n            }\n        }\n    }\n    private HandleMovePokerFormPlayToReceive(poker: Poker){\n        this.MovePokerToTarget(poker)\n    }\n    private HandleMovePokerFromOpenToPlay(poker: Poker) {\n        this.HandleMovePokerToTarget(poker)\n        // 还剩下 >=3 张牌的时候，需要调整位置\n        let g = this.m_Ju.OpenAreaGroup\n        if(g.pokers.length >= 3){\n            // 顶部 2 张牌需要调整\n            for(let i=0; i<2; ++i){\n                this.__AdjustOpenPokerByIndex(-1-i)\n            }\n        }\n    }\n    private HandleMovePokerToTarget(poker: Poker){\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.move)\n        this.MovePokerToTarget(poker)\n    }\n    private HandleMoveAllPokersFromOpenToClose(pokers: Poker[]) {\n        pokers.forEach(poker => {\n            poker.view.node.stopAllActions()\n            this.__FlipAndMoveToTarget(poker)\n        })\n    }\n    private HandleMovePokerNoChange(poker: Poker) {\n        this.MovePokerBack(poker)\n    }\n    private HandleMovePokersToTarget(pokers: Poker[]){\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.move)\n        this.MovePokersToTarget(pokers)\n    }\n    private HandleClickPokerNoChange(poker: Poker){\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.invalid);\n        ii.App.ins.p.vibrate.Default();\n        this.ShakePoker(poker)\n    }\n    private HandleUndoMovePokersToTarget(pokers: Poker[]){\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.undo)\n        this.MovePokersToTarget(pokers)\n    }\n    private HandleUndoMovePokerToOpen(poker: Poker){\n        this.HandleUndoMovePokerToTarget(poker)\n        // 如果 Open 区域 >= 4 张牌(已包含这张)，那么需要调整下方2张牌的位置\n        if(poker.group.pokers.length >= 4) {\n            for(let i=0; i<2; ++i){\n                this.__AdjustOpenPokerByIndex(-i-2)\n            }\n        }\n    }\n    private HandleUndoMovePokerToTarget(poker: Poker){\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.undo)\n        this.MovePokerToTarget(poker)\n    }\n    private HandleMoveAllPokersForUndoFromCloseToOpen(pokers: Poker[]){\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.undo)\n        this.MoveAllPokersForUndoFromCloseToOpen(pokers)\n    }\n    private HandleMovePokerForUndoFromOpenToClose(poker: Poker){\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.undo)\n        this.__FlipAndMoveToTargetByActionNode(poker)\n        // 还剩下 >=3 张牌的时候，需要调整位置\n        let g = this.m_Ju.OpenAreaGroup\n        if(g.pokers.length >= 3){\n            // 顶部 2 张牌需要调整\n            for(let i=0; i<2; ++i){\n                this.__AdjustOpenPokerByIndex(-1-i)\n            }\n        }\n    }\n    private HandleMovePokersForUndoFromOpenToClose(pokers: Poker[]) {\n        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.undo)\n        for(let i=pokers.length-1; i>=0; --i){\n            this.__FlipAndMoveToTargetByActionNode(pokers[i])\n        }\n        // 需要调整顶部牌位置\n        let g = this.m_Ju.OpenAreaGroup\n        let cnt = g.pokers.length\n        let moveCount = 0\n        if(cnt >= 3) {\n            moveCount = 2\n        }else if(cnt == 2){\n            moveCount = 1\n        }\n        // 顶部 2 张牌需要调整\n        for(let i=0; i<moveCount; ++i){\n            this.__AdjustOpenPokerByIndex(-1-i)\n        }\n    }\n    private HandleRefreshPokers(pokers: Poker[]) {\n        pokers.forEach(poker => {\n            const target = this.getTargetNode(poker)\n            const position=this.positionInTarget(poker)\n            poker.view.node.parent = target\n            poker.view.node.position = position\n            poker.view.node.zIndex = poker.indexInGroup\n            poker.view.Refresh()\n        })\n\n        this.emitGlobal(SolitaireGameDesktopUI.EVENT_GAMEVIEW_POKERS_READY)\n    }\n\n    private HandleGameWin(ju: SolitaireJu) {\n        this.__RunWinAction(ju, ()=>{\n            SolitaireLogic.HandleGameWin(ju, ()=>{\n                // 打开胜利页面\n                ii.UIMgr.ins.Open<UIGameWinArgs>(SolitairePrefabCfg.pfb.panel.UIGameWin.key, {\n                    ju: ju\n                });\n            });\n        });\n    }\n\n    private HandleGameLose(ju: SolitaireJu) {\n        ii.UIMgr.ins.Open<UIGameLoseArgs>(SolitairePrefabCfg.pfb.panel.UIGameLose.key, { ju });\n    }\n\n    private __AdjustOpenPokerByIndex(index: number) {\n        let p: Poker = this.m_Ju.OpenAreaGroup.GetPoker(index)\n        if(p){\n            this.__MovePokerByTimeDirectly(p, this.TIME_MOVE)\n        }\n    }\n\n    private __RunWinAction(ju: SolitaireJu, cb: Function) {\n        let __cb = ii.Util.onceCall(()=>{\n            cb();\n            ii.UIMgr.ins.DecBlockRef();\n        }, 1);\n        ii.UIMgr.ins.AddBlockRef();\n        // 播放胜利特效后进行回调\n        cc.Tween.stopAllByTarget(this.rotateNode);\n        this.rotateNode.angle = 0;\n        let timeOfOneCircle = 5.25*0.5;\n        let POKER_VIRTUAL_CNT = 52.5\n        let timeOfPokerInterval = timeOfOneCircle/POKER_VIRTUAL_CNT;\n        // 动画描述初步：每一张排移动到右上角后转1圈多后，从左上角切线飞到收牌区；\n        // 第一张牌飞到圆周上（和x轴夹角 theta）时，开始转动，直到最后一张牌到圆周上时，棋盘刚好转了一周；此时再转（180 + theta) 角度后第一张牌飞出到目标位置，最后一张牌再转一周      \n        let theta = 45;\n        // 总共旋转的角度为\n        let totalRotate = -(360 + (180 + 2*theta) + 360);\n        let totalRotateTime = -totalRotate*timeOfOneCircle/360;\n        let timePointOfPokerExit =  (360 + (180 + 2*theta))*timeOfOneCircle/360\n        let timeOfPokerEnter = 0.2;\n        let R = 240;\n        // 每一张牌，切入时初始旋转角度为\n        let _enterAngle = theta-90;\n        // 计算每一张牌，需要移动到到位置的世界坐标\n        let x0 = R*Math.cos(_enterAngle);\n        let y0 = -R*Math.sin(_enterAngle);\n        let wp = this.rotateNode.convertToWorldSpaceAR(cc.v2(x0, y0));\n        let _twp = this.rotateNode.parent.convertToNodeSpaceAR(wp);\n        let _twpV3 = cc.v3(_twp.x, _twp.y, 0);\n        let _pokerCnt = 0;\n        // this.rotateNode.parent\n        for(let receiveGroupIndex = 0; receiveGroupIndex < 4; ++receiveGroupIndex) {\n            let _receiveGroup = ju.getReceiveGroup(receiveGroupIndex);\n            for(let i=_receiveGroup.pokers.length-1; i>=0; --i){\n                let _poker = _receiveGroup.pokers[i];\n                _poker.view.StopAllAction();\n                ii.UIUtil.transferTo(_poker.view.node, this.rotateNode.parent)\n                let _pCnt = _pokerCnt;\n                cc.tween(_poker.view.node)\n                    .delay(_pokerCnt*timeOfPokerInterval)\n                    .call(_node => {\n                        _node.zIndex = ZIndex.TOP + _pCnt;\n                        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.move);\n                    })\n                    .to(timeOfPokerEnter, {position: _twpV3, angle: _enterAngle})\n                    .call((_node: cc.Node) => {\n                        // 移动到转盘\n                        ii.UIUtil.transferTo(_node, this.rotateNode);\n                        // 调整旋转角度\n                        _node.angle = _enterAngle + _pCnt*360/51;\n                        _node.zIndex = POKER_VIRTUAL_CNT-_pCnt\n                    })\n                    .start();\n                if(_pokerCnt == 0) {\n                    // 棋盘开始转动\n                    cc.tween(this.rotateNode)\n                        .delay(timeOfPokerEnter)    \n                        .to(totalRotateTime, {angle: totalRotate})\n                        .start()\n                    cc.tween(this.node)\n                        .delay(timeOfPokerEnter + timePointOfPokerExit)\n                        .call(()=>{\n                            this.__RunWinExitAction(ju, __cb, timeOfPokerInterval, -_enterAngle);\n                        })\n                        .start();\n                }\n                ++_pokerCnt;\n            }\n        }\n    }\n\n    private __RunWinExitAction(ju: SolitaireJu, cb: Function, timeOfPokerInterval: number, angleOfExit: number) {\n        let _pokerCnt = 0;\n        let timeOfPokerExit = 0.2;\n        var wp = this.rotateNode.parent.convertToNodeSpaceAR(this.closeArea.convertToWorldSpaceAR(cc.Vec3.ZERO));\n        for(let receiveGroupIndex = 0; receiveGroupIndex < 4; ++receiveGroupIndex) {\n            let _receiveGroup = ju.getReceiveGroup(receiveGroupIndex);\n            for(let i=_receiveGroup.pokers.length-1; i>=0; --i){\n                let _poker = _receiveGroup.pokers[i];\n                let _pCnt = _pokerCnt;\n                cc.tween(_poker.view.node)\n                    .delay(_pCnt*timeOfPokerInterval)\n                    .call((_node: cc.Node) => {\n                        ii.AudioMgr.ins.PlayEffect(SolitaireAudioCfg.effect.move)\n                        ii.UIUtil.transferTo(_node, this.rotateNode.parent)\n                        _node.zIndex = 52 + _pCnt;\n                        _node.angle = angleOfExit;\n                    })\n                    .to(timeOfPokerExit, {position: wp, angle: 0})\n                    .call(()=>{\n                        if(_pCnt == 51) {\n                            cb();\n                        }\n                    })\n                    .start();\n                ++_pokerCnt;\n            }\n        }\n    }\n    //#endregion     \n\n    //#region //! Move Action 正真的移动操作部分（每一个 Event Handler 会调用一个 Move 类型的函数）\n    private MoveAllPokersForUndoFromCloseToOpen(pokers: Poker[]) {\n        pokers.forEach(poker => {\n            poker.view.StopAllAction()\n            this.__FlipAndMoveToTarget(poker)\n        })\n    }\n    private MovePokerBack(poker: Poker) {\n        if(poker.isTop){\n            this.MovePokerToTarget(poker, false)\n        }else{\n            let pokerIndex = poker.indexInGroup\n            let pokerLength = poker.group.pokers.length\n            for(let abovePokerIndex= pokerIndex; abovePokerIndex < pokerLength; ++abovePokerIndex) {\n                let abovePoker = poker.group.GetPoker(abovePokerIndex)\n                this.MovePokerToTarget(abovePoker, false)\n            }\n        }\n    }\n    private ShakePoker(poker: Poker) {\n        if(poker.isTop){\n            this.__ShakePoker(poker)\n        }else{\n            let pokerIndex = poker.indexInGroup\n            let pokerLength = poker.group.pokers.length\n            for(let abovePokerIndex= pokerIndex; abovePokerIndex < pokerLength; ++abovePokerIndex) {\n                let abovePoker = poker.group.GetPoker(abovePokerIndex)\n                this.__ShakePoker(abovePoker)\n            }\n        }\n    }\n    private __ShakePoker(poker: Poker) {\n        poker.view.StopAllAction();\n        const SHAKE_DX: number = 4.0\n        const SHAKE_HALF_TIME: number = 0.05\n        let __StopCall = (p: UIPoker) => {\n            cc.Tween.stopAllByTarget(p.node)\n            let tpos = this.positionInTarget(p.vm)\n            p.node.position = tpos\n        }\n        poker.view.AddStopActionCall(__StopCall)\n        cc.tween(poker.view.node)\n            .by(SHAKE_HALF_TIME, {position: cc.v3(-SHAKE_DX, 0, 0)})\n            .by(SHAKE_HALF_TIME*2, {position: cc.v3(SHAKE_DX*2, 0, 0)})\n            .by(SHAKE_HALF_TIME, {position: cc.v3(-SHAKE_DX, 0, 0)})\n            .call(()=>{\n                poker.view.RemoveStopCall(__StopCall)\n                __StopCall(poker.view)\n            })\n            .start()\n    }\n    private __FlipAndMoveToTarget(poker: Poker) {\n        poker.view.Refresh()\n        const target: cc.Node = this.getTargetNode(poker)\n        ii.UIUtil.transferTo(poker.view.node, target)\n        poker.view.node.zIndex = poker.indexInGroup\n        // 移动的时间应该是固定的，才会比较有层次感\n        this.__MovePokerByTimeDirectly(poker, this.TIME_MOVE)\n    }\n    private __FlipAndMoveToTargetByActionNode(poker: Poker) {\n        poker.view.StopAllAction()\n        poker.view.Refresh()\n        ii.UIUtil.transferTo(poker.view.node, this.actionNode)\n        const {position, target} = this.getTargetAndPositionInParent(poker)\n        const time = this.__timeOfDistance(position, poker.view.node.position)\n        let __StopCall = (p: UIPoker) => {\n            p.node.position = position\n            ii.UIUtil.transferTo(p.node, target)\n            p.node.zIndex = p.vm.indexInGroup\n        }\n        poker.view.AddStopActionCall(__StopCall);\n        cc.tween(poker.view.node)\n            .to(time, {position: position})\n            .call((node: cc.Node) => {\n                poker.view.RemoveStopCall(__StopCall)\n                __StopCall(poker.view)\n            })\n            .start()\n    }\n    \n    private MovePokerToTarget(poker: Poker, resetZIndex: boolean = true){\n        poker.view.StopAllAction()\n        ii.UIUtil.transferTo(poker.view.node, this.actionNode)\n        const {position, target} = this.getTargetAndPositionInParent(poker)\n        const time = this.__timeOfDistance(position, poker.view.node.position)\n        let __StopCall = (p: UIPoker) => {\n            p.node.position = position\n            ii.UIUtil.transferTo(p.node, target)\n            if(resetZIndex) {\n                p.node.zIndex = poker.view.vm.indexInGroup\n            }\n        }\n        poker.view.AddStopActionCall(__StopCall)\n        cc.tween(poker.view.node)\n            .to(time, {position: position})\n            .call((node)=>{\n                __StopCall(poker.view)\n                poker.view.RemoveStopCall(__StopCall)\n            })\n            .start()\n    }\n    private MovePokersToTarget(pokers: Poker[]) {\n        for(let pokerIndex=pokers.length-1; pokerIndex >=0; --pokerIndex){\n            let poker = pokers[pokerIndex]\n            this.MovePokerToTarget(poker)\n        }\n    }\n    private FlipPoker(poker: Poker) {\n        poker.view.StopAllAction();\n        let __StopCall = (p: UIPoker) => { p.Refresh(); p.node.scaleX = 1; }\n        poker.view.AddStopActionCall(__StopCall)\n        cc.tween(poker.view.node)\n            .to(this.TIME_FLIP_HALF, {scaleX: 0})\n            .call(()=>{ poker.view.Refresh() })\n            .to(this.TIME_FLIP_HALF, {scaleX: 1})\n            .call(()=>{\n                poker.view.RemoveStopCall(__StopCall)\n            })\n            .start()\n    }\n    private __MovePokerByTimeDirectly(poker: Poker, time: number) {\n        poker.view.StopAllAction()\n        let targetPosition = this.positionInTarget(poker);\n        let __StopCall = (p: UIPoker) => { p.node.position = targetPosition }\n        poker.view.AddStopActionCall(__StopCall);\n        cc.tween(poker.view.node)\n            .to(time, {position: targetPosition})\n            .call(()=>poker.view.RemoveStopCall(__StopCall))\n            .start()\n    }\n    //#endregion\n\n    //#region //! 辅助函数\n    private topZIndexByPoker(poker: Poker) {\n        return this.topZIndex(poker.location, poker.groupIndex)\n    }\n    private topZIndex(location: ELocation, index: number = 0) {\n        this.__setZIndex(location, index, ZIndex.TOP)\n    }\n    private __setZIndex(location: ELocation, index: number, targetZIndex: number) {\n        switch (location) {\n            case ELocation.PLAY:\n                this.closeArea.zIndex = ZIndex.NORMAL\n                this.openArea.zIndex = ZIndex.NORMAL\n                this.playAreaList.forEach((node, i) => node.zIndex = (i === index) ? targetZIndex : ZIndex.NORMAL)\n                this.receiveAreaList.forEach(node => node.zIndex = ZIndex.NORMAL)       \n                break;\n            case ELocation.OPEN:\n                this.closeArea.zIndex = ZIndex.NORMAL\n                this.openArea.zIndex = targetZIndex\n                this.playAreaList.forEach(node => node.zIndex = ZIndex.NORMAL)\n                this.receiveAreaList.forEach(node => node.zIndex = ZIndex.NORMAL)\n                break;\n            case ELocation.CLOSE:\n                this.closeArea.zIndex = targetZIndex\n                this.openArea.zIndex = ZIndex.NORMAL\n                this.playAreaList.forEach(node => node.zIndex = ZIndex.NORMAL)\n                this.receiveAreaList.forEach(node => node.zIndex = ZIndex.NORMAL)\n                break;\n            default:\n                console.assert(location == ELocation.RECEIVE)\n                this.closeArea.zIndex = ZIndex.NORMAL\n                this.openArea.zIndex = ZIndex.NORMAL\n                this.playAreaList.forEach(node => node.zIndex = ZIndex.NORMAL)\n                this.receiveAreaList.forEach((node, i) => node.zIndex = (i === index) ? targetZIndex : ZIndex.NORMAL)\n                break;\n        }\n    }\n    private resetZIndex(){\n        this.closeArea.zIndex = ZIndex.NORMAL\n        this.openArea.zIndex = ZIndex.NORMAL\n        this.playAreaList.forEach(node => node.zIndex = ZIndex.NORMAL)\n        this.receiveAreaList.forEach(node => node.zIndex = ZIndex.NORMAL) \n    }\n    private getReceiveIndexByUIPoker(uiPoker: UIPoker): number {\n        let wp = uiPoker.node.convertToWorldSpaceAR(cc.Vec3.ZERO)\n        for(let receiveIndex = 0; receiveIndex < 4; ++receiveIndex) {\n            let receiveNode = this.receiveAreaList[receiveIndex]\n            let rwp = receiveNode.convertToWorldSpaceAR(cc.Vec3.ZERO)\n            if(Math.abs(rwp.x - wp.x) < 60 && Math.abs(rwp.y - wp.y) < 100) {\n                return receiveIndex\n            }\n        }\n        \n        return -1\n    }\n    // 提供给拖拽判定的 API\n    private getPlayIndexByPoker(poker: Poker): number {\n        let isPokerInPlay: boolean = poker.location == ELocation.PLAY\n        let wp = poker.view.node.convertToWorldSpaceAR(cc.Vec3.ZERO)\n        for(let groupIndex=0; groupIndex < 7; ++groupIndex) {\n            if(isPokerInPlay && poker.groupIndex === groupIndex){\n                continue\n            }\n            let playGroup = this.m_Ju.getPlayGroup(groupIndex)\n            let node: cc.Node = (playGroup.top === null) ? this.playAreaList[groupIndex] : playGroup.top.view.node\n            let wp0: cc.Vec3 = node.convertToWorldSpaceAR(cc.Vec3.ZERO)\n            if(wp0.x-this.POKER_WIDTH < wp.x && wp.x < wp0.x+this.POKER_WIDTH \n                && wp0.y-this.POKER_HEIGHT < wp.y && wp.y < wp0.y+this.POKER_HEIGHT ) {\n                return groupIndex;\n            }\n        }\n        return -1\n    }\n    private getTargetNode(poker: Poker) {\n        let location: number = poker.location\n        let groupIndex: number = poker.groupIndex\n        switch (location) {\n            case ELocation.PLAY:\n                return this.playAreaList[groupIndex]\n            case ELocation.OPEN:\n                return this.openArea\n            case ELocation.CLOSE:\n                return this.closeArea\n            default:\n                console.assert(location == ELocation.RECEIVE)\n                return this.receiveAreaList[groupIndex]\n        }\n    }\n    private positionInTarget(poker: Poker): cc.Vec3 {\n        let location: number = poker.location\n        switch (location) {\n            case ELocation.PLAY:\n                let pokerIdx = poker.indexInGroup\n                let rootPokerIndex = poker.group.rootOpenPoker.indexInGroup\n                if(pokerIdx <= rootPokerIndex){\n                    return cc.v3(0, -SolitaireGameDesktopUI.PLAY_CLOSE_POKER_PADDING_Y*pokerIdx, 0) \n                }else{\n                    return cc.v3(0, -SolitaireGameDesktopUI.PLAY_CLOSE_POKER_PADDING_Y*rootPokerIndex - SolitaireGameDesktopUI.PLAY_OPEN_POKER_PADDING_Y*(pokerIdx-rootPokerIndex), 0)\n                }\n            case ELocation.OPEN:\n                let pokerIndex: number = poker.indexInGroup\n                let pokerLength = poker.group.pokers.length\n                if(pokerLength >= 3){\n                    if(pokerIndex == pokerLength - 1){\n                        return cc.v3(this.PADDING_PLAY, 0, 0)\n                    }else if(pokerIndex == pokerLength - 2){\n                        return cc.v3(this.PADDING_PLAY/2, 0, 0)\n                    }else{\n                        return cc.Vec3.ZERO\n                    }\n                }else if(pokerLength == 2){\n                    if(pokerIndex == pokerLength - 1){\n                        return cc.v3(this.PADDING_PLAY/2, 0, 0)\n                    }else{\n                        return cc.Vec3.ZERO\n                    }\n                }else{\n                    return cc.Vec3.ZERO\n                }\n            case ELocation.CLOSE:\n                return cc.Vec3.ZERO\n            default:\n                console.assert(location == ELocation.RECEIVE)\n                return cc.Vec3.ZERO\n        }\n    }\n    // 获得扑克牌目标位置在当前父节点下的位置\n    private getTargetAndPositionInParent(poker: Poker) {\n        const target: cc.Node = this.getTargetNode(poker)\n        let tpos = this.positionInTarget(poker)\n        let wtpos = target.convertToWorldSpaceAR(tpos)\n        let position = poker.view.node.parent.convertToNodeSpaceAR(wtpos)\n        return {target, position}\n    }\n\n    public __timeOfDistance(from: cc.Vec3, to: cc.Vec3, speedFactor: number = 1): number {\n        const distance: number = cc.Vec3.distance(from, to)\n        const speed: number = 1500*speedFactor\n        const total_time: number = distance/speed\n        return total_time\n    }\n    //#endregion\n    \n    //#region //! IDragDelegate\n    private m_isTouchStart: boolean = false;\n    private m_isDragStart: boolean = false;\n    private m_MoveCount: number = 0;\n    private m_EventTouch: cc.Event.EventTouch = null;\n    OnDragTouchStart(uiPoker: UIPoker, event: cc.Event.EventTouch): boolean {\n        if(this.m_isTouchStart) {\n            return false\n        }\n        if( !uiPoker.DragStartTest() ) {\n            this.ClickUIPoker(uiPoker);\n            return;\n        }\n        this.m_isTouchStart = true;\n        this.m_isDragStart = false;\n        this.m_MoveCount = 0;\n        this.m_EventTouch = event;\n        this.StartScheduler(\"JU_TOUCH_TIME\", ()=>{\n            if(!this.m_isDragStart) {\n                this.m_isDragStart = true;\n                uiPoker.OnDragStart(this.m_EventTouch);\n            }\n        }, 0.3, 1);\n        return true;\n    }\n    OnDragTouchMove(uiPoker: UIPoker, event: cc.Event.EventTouch){\n        if(!this.m_isTouchStart) {\n            return;\n        }\n        if(this.m_isDragStart) {\n            uiPoker.OnDragMove(event);\n        }else{\n            ++this.m_MoveCount;\n            if(this.m_MoveCount > 5) {\n                this.StopScheduler(\"JU_TOUCH_TIME\");\n                this.m_isDragStart = true;\n                this.topZIndexByPoker(uiPoker.vm);\n                uiPoker.OnDragStart(event)\n            }else{\n                this.m_EventTouch = event;\n            }\n        }\n    }\n    OnDragTouchEnd(uiPoker: UIPoker, event: cc.Event.EventTouch){\n        if(!this.m_isTouchStart) {\n            return;\n        }\n        this.m_isTouchStart = false;\n        this.StopScheduler(\"JU_TOUCH_TIME\");\n        if(this.m_isDragStart) {\n            this.m_isDragStart = false;\n            this.m_MoveCount = 0;\n            uiPoker.OnDragEnd();\n            this.resetZIndex();\n            // 拖拽到 Play 区\n            let playIndex = this.getPlayIndexByPoker(uiPoker.vm)\n            if( playIndex !== -1 ){\n                this.m_Ju.OnDragToPlay(uiPoker.vm, playIndex)\n                return\n            }\n    \n            // 拖拽到 Receive 区 \n            let receiveIndex = this.getReceiveIndexByUIPoker(uiPoker)\n            if( receiveIndex !== -1 ){\n                this.m_Ju.OnDragToReceive(uiPoker.vm, receiveIndex)\n                return\n            }\n    \n            // 无效的拖拽\n            this.MovePokerBack(uiPoker.vm)\n        }else{\n            this.ClickUIPoker(uiPoker);\n        }\n    }\n\n    private ClickUIPoker(uiPoker: UIPoker) {\n        // 点击事件\n        const location = uiPoker.vm.location\n        switch (location) {\n            case ELocation.PLAY:\n                if(uiPoker.isOpen()){\n                    this.m_Ju.OnPlayPokerClick(uiPoker.vm)\n                }\n                break;\n            case ELocation.CLOSE:\n                if(uiPoker.vm.isTop){\n                    this.m_Ju.OnClosePokerClick(uiPoker.vm)\n                }\n                break\n            case ELocation.OPEN:\n                if(uiPoker.vm.isTop){\n                    this.m_Ju.OnOpenPokerClick(uiPoker.vm)\n                }\n                break\n            default:\n                console.assert(location === ELocation.RECEIVE)\n                this.m_Ju.OnReceivePokerClick(uiPoker.vm)\n                break;\n        }\n    }\n    //#endregion\n}\n"]}